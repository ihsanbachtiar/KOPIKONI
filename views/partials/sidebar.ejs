<aside class="w-64 bg-gray-800 text-gray-300 shadow-xl border-r border-gray-700 flex-shrink-0 h-screen sticky top-0 flex flex-col p-6"> 
  
  <a href="/" class="text-2xl font-extrabold bg-gradient-to-r from-amber-300 to-amber-500 bg-clip-text text-transparent mb-6" style="text-shadow: 0 0 12px rgba(252, 211, 77, 0.5);">
    â˜• KopiKoni
  </a>

  <div class="mb-4">
    <p class="text-sm text-gray-500 uppercase tracking-wide">Selamat datang,</p>
    <p class="text-xl font-semibold text-amber-300"><%= user ? user.name : 'Guest' %></p>
  </div>
  
  <nav class="space-y-2">
    <ul>
      <% if (user) { %>
        
        <% if (user.role === 'admin') { %>
          <% if (user && user.role === 'admin') { %>
            <li>
                <a href="/admin/dashboard" class="flex items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'dashboard' ? 'bg-amber-600 text-white' : 'text-gray-400' %> group">
                    <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">ğŸ“Š</span>
                    <span class="font-medium <%= activeMenu === 'dashboard' ? 'text-white' : '' %>">Dashboard</span>
                </a>
            </li>
            <li>
                <a href="/admin/menu" class="flex items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'menu' ? 'bg-amber-600 text-white' : 'text-gray-400' %> group">
                    <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">â˜•</span>
                    <span class="font-medium <%= activeMenu === 'menu' ? 'text-white' : '' %>">Manajemen Menu</span>
                </a>
            </li>
            <li>
                <a href="/admin/categories" class="flex items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'categories' ? 'bg-amber-600 text-white' : 'text-gray-400' %> group">
                    <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">ğŸ·ï¸</span>
                    <span class="font-medium <%= activeMenu === 'categories' ? 'text-white' : '' %>">Manajemen Kategori</span>
                </a>
            </li>
            <li>
                <a href="/admin/orders" class="flex items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'orders' ? 'bg-amber-600 text-white' : 'text-gray-400' %> group">
                    <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">ğŸ“¦</span>
                    <span class="font-medium <%= activeMenu === 'orders' ? 'text-white' : '' %>">Pesanan</span>
                </a>
            </li>
        <% } %>

        <% } else { %>
          
          <li>
            <a href="/dashboard" class="flex items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 group <%= activeMenu === 'dashboard' ? 'bg-amber-600 text-white' : '' %>">
              <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">ğŸ </span> 
              <span class="font-medium <%= activeMenu === 'dashboard' ? 'text-white' : '' %>">Home</span>
            </a>
          </li>
          
          <li>
            <button id="menuDropdownToggle" class="w-full flex justify-between items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 focus:outline-none group <%= activeMenu && (activeMenu.startsWith('menu-') || activeMenu === 'menu/all') ? 'bg-amber-600 text-white' : '' %>">
              <span class="flex items-center">
                <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">â˜•</span> 
                <span class="font-medium <%= activeMenu && (activeMenu.startsWith('menu-') || activeMenu === 'menu/all') ? 'text-white' : '' %>">Kategori Menu</span>
              </span>
              <span id="menuDropdownArrow" class="transform transition-transform duration-200 <%= activeMenu && (activeMenu.startsWith('menu-') || activeMenu === 'menu/all') ? 'rotate-180' : '' %>">â–¾</span>
            </button>
            
            <ul id="menuDropdownContent" class="hidden mt-2 ml-4 pl-4 border-l-2 border-gray-600 space-y-1 text-gray-400 <%= activeMenu && (activeMenu.startsWith('menu-') || activeMenu === 'menu/all') ? '!block' : '' %>">
              <li><a href="/menu/all" class="block p-2 rounded-md hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'menu/all' ? 'bg-amber-700 text-white' : '' %>">Semua Menu</a></li>
              <li><a href="/menu/all#coffee" class="block p-2 rounded-md hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'menu-coffee' ? 'bg-amber-700 text-white' : '' %>">Coffee</a></li>
              <li><a href="/menu/all#non-coffee" class="block p-2 rounded-md hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'menu-non-coffee' ? 'bg-amber-700 text-white' : '' %>">Non-Coffee</a></li>
              <li><a href="/menu/all#snack" class="block p-2 rounded-md hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'menu-snack' ? 'bg-amber-700 text-white' : '' %>">Snack</a></li>
              <li><a href="/menu/all#makanan-berat" class="block p-2 rounded-md hover:bg-gray-700 transition-colors duration-200 <%= activeMenu === 'menu-makanan-berat' ? 'bg-amber-700 text-white' : '' %>">Makanan Berat</a></li>
            </ul>
          </li>
    
          <li>
            <a href="/order/cart" class="flex items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 group <%= activeMenu === 'cart' ? 'bg-amber-600 text-white' : '' %>">
              <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">ğŸ›’</span> 
              <span class="font-medium <%= activeMenu === 'cart' ? 'text-white' : '' %>">Keranjang Saya</span>
            </a>
          </li>
          
          <li>
            <a href="/order/history" class="flex items-center p-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 group <%= activeMenu === 'history' ? 'bg-amber-600 text-white' : '' %>">
              <span class="text-amber-400 group-hover:text-amber-300 mr-3 text-lg">ğŸ§¾</span> 
              <span class="font-medium <%= activeMenu === 'history' ? 'text-white' : '' %>">Riwayat Pesanan</span>
            </a>
          </li>
          
        <% } %>
      <% } %>
    </ul>
  </nav>

  <a href="/auth/logout" class="bg-red-700 px-4 py-2 rounded-lg hover:bg-red-800 transition-colors duration-300 mt-auto text-center font-medium">
    Logout
  </a>
</aside>
